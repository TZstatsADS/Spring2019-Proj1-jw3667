---
title: "GR5243 Project 1: Do I Belong to Happiness?"
output: html_notebook
author: "Jingwen Wang (jw3667)"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Step 0: Basic Set-ups and Questions Raising

#### Brief Introduction on the Data:
The Data that we are using is *HappyDB* which is a corpus of 100,000 crowd-sourced happy moments via Amazon's Mechanical Turk. You can read more about it on https://arxiv.org/abs/1801.07746

According to the methods introduced in the lectures (credit to "Arpita Shah and Tian Zheng"), we are able to clean our data. Since the process is fully developed in the file *"Text_Processing.Rmd"*, and **"processed_moments.csv"** (located in "output") is going to be used as the initial data file for my analysis.

#### The Research Question & Analysis Logic Flow:

*Happy_DB* provides 100,000 happy moments of people from diversified background. It is very common to ask a question: 

<center>**Will someone of a certain type be happier?**</center>

Everyone knows the term happiness, but it is very difficult for us to define what happiness truely is. Philosophers, psychologists, artists, and even economists and politicians can give us various definition about happiness based on their theory and measurement. Someone may look happy everyday, but someone does not. So what makes us different? What makes people feel happy? Are we in the particular group of happiness people? 

In this analysis, we may want to figure if there is a/some demographic characteristics will affect people's happiness. At the very end of this analysis, we may provide some insights into this problem.

If so, what are the special factors that affect the happiness of this group?

The analysis will follow steps below to examine how demographic characteristics will affect people's happiniess:

- **Step 1**: Combine the cleaned data with demographic information, including gender, marital status, parenthood, age, and country. 

- **Step 2**: Use the Sentimental Analysis to quantify happiness level and to visualize it based on demographics

- **Step 3**: Based on the sentimental analysis results, conduct a behavior analysis on the selected demographic group(s) by Topic Modeling. This would answer if a certain group of people have some experience that would make them happier. (i.e. Do people with similar experience would be happy because of similar activities)


### Step 1: Combining demographic information to the data

Fist, we will check version and load packages that will be used in the analysis.
```{r}
R.Version()$version.string
```
```{r load libraries, warning=FALSE, message=FALSE,echo=FALSE}
packages.used=c("tidyverse", "tidytext", "DT", 
                "scales", "wordcloud2", "gridExtra",
                "ngram", "syuzhet", "foreign","lubridate", 
                "dplyr", "ggplot2", "RColorBrewer",
                "RANN", "tm", "topicmodels","tidyr","NLP",
                "SnowballC","httr","wordcloud","janeaustenr")
# check packages that need to be installed.
packages.needed=setdiff(packages.used, 
                        intersect(installed.packages()[,1], 
                                  packages.used))
# install additional packages
if(length(packages.needed)>0){
  install.packages(packages.needed, dependencies = TRUE)
}

library(tidyverse)
library(tidytext)
library(DT)
library(scales)
library(wordcloud)
library(wordcloud2)
library(gridExtra)
library(ngram)
library(foreign)
library(syuzhet)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tm)
library(RColorBrewer)
library(tidyr)
library(NLP)
library(topicmodels)
library(SnowballC)
library(httr)
library(janeaustenr)
```

#### Load the processed text data along with demographic information on contributors:

We use the processed data for our analysis and combine it with the demographic information available. The file is directly read from `output` `processed_moments.csv`.

```{r load data, warning=FALSE, message=FALSE,echo=FALSE}
hm_data <- read_csv("../output/processed_moments.csv")

urlfile<-'https://raw.githubusercontent.com/rit-public/HappyDB/master/happydb/data/demographic.csv'
demo_data <- read_csv(urlfile)
```

#### Combine both the data sets and keep the required columns for analysis

We select a subset of the data that satisfies specific row conditions.

```{r combining data, warning=FALSE, message=FALSE,echo=FALSE}
hm_data <- hm_data %>%
  inner_join(demo_data, by = "wid") %>%
  select(wid,
         hmid,
         original_hm,
         gender, 
         marital, 
         parenthood,
         reflection_period,
         predicted_category,
         age, 
         country, 
         ground_truth_category, 
         text) %>%
  mutate(count = sapply(hm_data$text, wordcount)) %>%
  filter(gender %in% c("m", "f")) %>%
  filter(marital %in% c("single", "married")) %>%
  filter(parenthood %in% c("n", "y")) %>%
  filter(reflection_period %in% c("24h", "3m")) %>%
  mutate(reflection_period = fct_recode(reflection_period, 
                                        months_3 = "3m", hours_24 = "24h"))
```

```{r}
head(hm_data)
```


### Step 2: Sentiment Analysis by *Syuzhet*

In the sentiment analysis, our goal is to evaluate the happiness level among all demographic groups. The 
```{r syuzhet,echo=FALSE}
# Calculate Sentimental Score by the method of Syuzhet
syz_vec<-get_sentiment(hm_data$original_hm,method = "syuzhet")
hm_data$syuzhet_score <- syz_vec
```

**Visualizing happiniess level according to Gender, Marital Status, and Parenthood by Box-plot**
\newline
```{r gender.marital.parenthood,warning=FALSE}
par(mfrow=c(1,3))
# Box-plot grouped by gender
boxplot(syuzhet_score~gender,data=hm_data,names=c("female","male"),cex=0.2,
        pch=16,col=c("lightblue3","lightcyan"),
        main="Gender")
# Box-plot grouped by marital status
boxplot(syuzhet_score~marital,data=hm_data,names=c("married","single"),cex=0.2,
        pch=16,col=c("lightgoldenrod3","lightgoldenrodyellow"),
        main="Marital Status")
# Box-plot grouped by parenthood
boxplot(syuzhet_score~parenthood,data=hm_data,names=c("n","y"),cex=0.2,
        pch=16,col=c("peachpuff3","peachpuff1"),
        main="Parenthood")
```

```{r,message=FALSE,echo=FALSE}
gender_stat <-tapply(hm_data$syuzhet_score,hm_data$gender,summary)

marital_stat <-tapply(hm_data$syuzhet_score,hm_data$marital,summary)

parenthood_stat <-tapply(hm_data$syuzhet_score,hm_data$parenthood,summary)

g<-matrix(unlist(gender_stat),nrow = 2,byrow = TRUE)
m<-matrix(unlist(marital_stat),nrow = 2,byrow = TRUE)
p<-matrix(unlist(parenthood_stat),nrow=2,byrow = TRUE)
one.factor<- rbind(g,m,p)
rownames(one.factor)<-c("female","male","married","single","parent","non-parent")
colnames(one.factor)<-c("Min","1st Qu","Median","Mean","3rd Qu","Max")
```

**Five Number Summary of Gender, Marital Status, and Parenthood**
```{r}
# Gender(f/m) & Marrital(married/single) & Parenthood(n/y)
print(one.factor)
```

**Visualizing Cross-groups by Box-plot**
```{r fig1,fig.height=2,fig.width=5,echo=FALSE}
par(mfrow=c(1,6))
# Married (Gender)
boxplot(syuzhet_score~gender,data=hm_data[hm_data$marital=="married",],names=c("female","male"),cex=0.2,
        pch=16,col=brewer.pal(3,"Reds"),ylim=c(-5,25),lwd = 0.3,
        main="Gender(Married)")

# Single (Gender)
boxplot(syuzhet_score~gender,data=hm_data[hm_data$marital=="single",],names=c("female","male"),cex=0.2,
        pch=16, col=brewer.pal(3,"RdPu"),ylim=c(-5,25),lwd = 0.3,
        main="Gender(Single)")

# Married (Parenthood)
boxplot(syuzhet_score~parenthood,data=hm_data[hm_data$marital=="married",],names=c("n","y"),cex=0.2,
        pch=16,col=brewer.pal(3,"PuBu"),ylim=c(-5,25),lwd = 0.3,
        main="Parenthood(Married)")

# Single (Parenthood)
boxplot(syuzhet_score~parenthood,data=hm_data[hm_data$marital=="single",],names=c("n","y"),cex=0.2,
        pch=16,col=brewer.pal(3,"Blues"),ylim=c(-5,25),lwd = 0.3,
        main="Parenthood(Single)")


## Female (Parenthood)
boxplot(syuzhet_score~parenthood,data=hm_data[hm_data$gender=="f",],
        names=c("n","y"),cex=0.2,lwd = 0.3,
        pch=16,col=brewer.pal(3,"Greens"),ylim=c(-5,25),
        main="Parenthood(Female)")

## Male (Parenthood)
boxplot(syuzhet_score~parenthood,data=hm_data[hm_data$gender=="m",],
        names=c("n","y"),cex=0.2,lwd = 0.3,
        pch=16,col=brewer.pal(3,"YlOrBr"),ylim=c(-5,25),
        main="Parenthood(Male)")
```

**Visualizing Age group by the Box-plot**

```{r age,echo=FALSE,fig.height=2,fig.width=3}
# Divide age into groups
hm_data$age.group <- 0
hm_data[which(is.na(hm_data$age)),]$age.group<-1
hm_data[which(hm_data$age<20),]$age.group<-2
hm_data[which((hm_data$age >=20) & (hm_data$age<30)),]$age.group<-3
hm_data[which((hm_data$age >=30) & (hm_data$age<40)),]$age.group<-4
hm_data[which((hm_data$age >=40) & (hm_data$age<50)),]$age.group<-5
hm_data[which(hm_data$age >=50),]$age.group<-6
```

```{r box.age,echo=FALSE,fig.height=1.5,fig.width=1.5}
# Box-plot by age group
boxplot(syuzhet_score~age.group,data=hm_data,
        names=c("NA","Below 20's","20's","30's","40's","50's and Above"),
        cex=0.2,pch=16,lwd = 0.3,
        col=c("snow3","snow4","slategray1","slategray2","slategray3","slategray4"),
        main = "Age")
```

#### Conclusion of the Sentiment Analysis:

By performing the sentiment analysis, we look at the overall happiness level among all demographics, and we notice that there is no such a group whose happiness level is greatly higher than other groups. The overall hapiness index is around 1, suggesting that data we are collecting indeed showing happiness from people. Since the data is about happiness, we expect to view positive response, this explains why we have several extreme outliers on the positive direction but limited outliers on the negative direction. 

**Hightlights**

- There is no clear pattern suggesting that age is a clear factor of hapiness.

- We notice that people with children are more likely to be happier than those without children. 

- Female seems to be slightly happier than male. 


### Step 3: Study on Selected Demographic Group by Topic Modelling

According to our sentimental analysis results, we have the following observations:

- Married couples with kids seem to be happier than those without kids.

- Single with kids seems to be happier than bachelors without parenthood. 


This leads to two following questions:

1. Does parenthood make people happier? 

2. What experience/activities do parents/non-parents usually do? Is there any implication on their happiness?

According to *Thomas Hansen* in *Parenthood and Happiness: a Review of Folk Theories Versus Empirical Evidence*, the presence of children is considered as a widely accepted vital mode of happiness. Being a parent could make people feel fulfilled. Moreover, children are usually considered as the bond of a family which enhance the overall well-being by fostering greater family hapiness.

Therefore, we are going to apply *Topic Modelling* to figure if the patterns of events and/or relationships exist or not. 


####Visualization: How children will have an impact on people's happy moments

`Wordcloud` is used as a visualization tool to let us check what are the most frequent words in `Parenthood(Y)` and `Parenthood(N)` group. The results from the `Wordcloud` may indicate if parenthood takes a relatively big part of people's life. 

```{r visualization.parent}
# Wordcloud for Parenthood
par.data <- hm_data[hm_data$parenthood=="y",]
```

```{r}
set.seed(2333)
cld.parent <- Corpus(VectorSource(par.data$text))
dtm.parent <- TermDocumentMatrix(cld.parent)
dtm.parent.ma <- as.matrix(dtm.parent)
dtm.parent.ma <- sort(rowSums(dtm.parent.ma),decreasing=TRUE)
d.parent.df <- data.frame(word = names(dtm.parent.ma),freq=dtm.parent.ma)
```

```{r visualization.no.parent}
# Wordcloud for Non-Parenthood
no.par.data <- hm_data[hm_data$parenthood=="n",]
```

```{r}
set.seed(2333)
cld.no.parent <- Corpus(VectorSource(no.par.data$text))
dtm.no.parent <- TermDocumentMatrix(cld.no.parent)
dtm.no.parent.ma <- as.matrix(dtm.no.parent)
dtm.no.parent.ma <- sort(rowSums(dtm.no.parent.ma),decreasing=TRUE)
d.no.parent.df <- data.frame(word = names(dtm.no.parent.ma),freq=dtm.no.parent.ma)
```

**Visualization on People with Children**:
```{r,echo=FALSE}
wordcloud(words = d.parent.df$word, freq = d.parent.df$freq, min.freq = 1,
          max.words=60, random.order=FALSE, rot.per=0.3, 
          colors=brewer.pal(6, "Oranges"))
```

**Visualization on People with No Child**:
```{r,echo=FALSE}
wordcloud(words = d.no.parent.df$word, freq = d.no.parent.df$freq, min.freq = 1,
          max.words=60, random.order=FALSE, rot.per=0.2, 
          colors=brewer.pal(6, "Blues"))
```
\newline
\newline

**Comment**:

Apart from the top three words (friend, time, and day) shared by both "Patenhood(Y)" and "Parenthood(N)", we notice that words such as "son", "daughter", "family" are obviously high frenquency words in the group of "Patenhood(Y)". This suggests that most of happiness moments of this group come from their families, especially from their children. 


####Topic Modelling: Behavior Study on Parenthood(Y) Group (What experience are they sharing?)

Based on what we have from the `Wordcloud`, we want to further study what common experience/activities are shared with in `Parenthood(Y)` group. Later, we will conduct the same `Topic Modelling` approach on `Parenthood(N)` group, and to compare these two groups. The main purpose is to check if many happy moments of parents (i.e. activities that make people happy) are related to children. 


```{r parent.group}
# Group 1 Parenthood(Y)
# Cleaning Data
corpus.parent <- VCorpus(VectorSource(par.data$text))%>%
  tm_map(content_transformer(tolower))%>%
  tm_map(removePunctuation)%>%
  tm_map(removeNumbers)%>%
  tm_map(removeWords, character(0))%>%
  tm_map(stripWhitespace)
```

```{r}
# Transforming text into numeric matrix:
# row = document
# column = words apperance
dtm.parent <- DocumentTermMatrix(corpus.parent)

rownames(dtm.parent) <- paste(par.data$reflection_period, par.data$wid,
                              par.data$predicted_category, par.data$hmid, sep="_")

# Remove lines with length <= 0:
rowTotals <- apply(dtm.parent, 1, sum)
dtm.parent <- dtm.parent[rowTotals> 0, ]

# Update Input Data dimension
par.data <- par.data[rowTotals> 0, ]
```

```{r,echo=FALSE}
# Set parameters for Gibbs sampling
SEED = list(2333,5,63,100002,7777)  # Pick a random seed for replication
nstart <- 5
best <- TRUE
k = 10  # Number of Topics

# LDA model by Gibbs Method
model.parent <- LDA(dtm.parent, k = k, method = "Gibbs", control = list(seed = SEED,nstart=nstart,best=best,
                                                                  burnin = 4000,thin = 500,iter = 2000))
```

```{r married.par.results,echo=FALSE}
# Docs to Topics
parent.docs <- as.matrix(topics(model.parent))
parent.count<-table(c(1:k, parent.docs))

# Topics Terms
parent.terms <- as.matrix(terms(model.parent,20))
write.csv(parent.terms,file=paste("../output/LDAGibbs",k,"Topics.Parent.Terms.csv"))

# Topics Probability
parent.prob <- as.data.frame(model.parent@gamma)
```

**10 Topics in Parenthood(Y) Group (20 top words & words counts)**
```{r parent.terms,echo=FALSE}
# Output 10 Topics
options(width = 100)
print(parent.terms)
print(parent.count)
```

```{r}
# Find the most salient:
parent.terms.beta <- model.parent@beta
parent.terms.beta <- scale(parent.terms.beta)
parent.topics.terms <- NULL
for(i in 1:k){
  parent.topics.terms <- rbind(parent.topics.terms, model.parent@terms[order(parent.terms.beta[i,], decreasing = TRUE)[1:10]])
}
```

**Most salient terms for each topic**:
```{r,echo=FALSE}
options(width = 100)
print(t(parent.topics.terms))
```

####Visualization: Parenthood(Y) Word Frequency + Topics

By combining the results of `Topic Modelling` and the most salient terms, we manually summarize the following 10 topics:

- **Entertainment**: this topic contains joyful moments and activities in a person's daily life. It may vary from person to person. The activities in this group which lead to a certain type of feeling are more likely to be relaxed and at ease. It should be noticed that family seems to be involved here.

- **Shopping**: this topic contains purchasing activities.

- **Family**: this topic relates closely to parenthood. The family activities may includes many relationships such as parenthood and brotherhood. 

- **Emotions**: this topic contains expressions relating to overall well-being. It may suggests emotions or activities in this topics relating to the physical and pschological healthness of a person. 

- **Jobs**: this topic contains happy moments relating to jobs or achievements. It is interesting that word such as "son" also appears in this topic, which suggests that achievements from family members, especially kids, may affect people's happiness.

- **Kids**: this topic contains activities about playing with children.

- **Outdoors**: this topic contains outdoor activities and visiting natural sightseeings. 

- **School**: this topic contains shcool activities; for those who are parents (i.e. not attending shcool themselves), this may suggest that children's activities and performance at shcool can bring them happiness.

- **Friends**: this topic is around friendship and special events sharing with friends (i.e. weddings, birthdays). Celebrating special events usually can bring people hapiness, especially when it happens with friends and family around.

- **Couple's**: this topic includes activities of couples. Words related to cooking pop-up very often. Enjoy meals with lovers can bring people happy. 

We are using `geom_col` to visualize the word frequency in each topics that we manually summarized. By visualizing this result, we can easily observe which group(s) of terms appear at most frequency as well as what `key words` appearing.


```{r}
# Manually assign tags to each topics
parent.term.tags <- c("Moments","Shopping","Family","Well-being","Jobs","Kids","Outdoors","School","Friends","Couple's")

# Re-grouping Parenthood(Y) Dataframe with Topics and their Probabilities
par.data$topics <- as.vector(parent.docs)
par.data$tags <- parent.term.tags [parent.docs]

colnames(parent.prob)=parent.term.tags
par.df.1=cbind(par.data, parent.prob)
```

**Visualization: Hot Words Among each Topics**

```{r fig.par,fig.height=1.81,fig.width=4.2,warning=FALSE}
word_count.mp <- par.df.1 %>%
  unnest_tokens(word,text) %>%
  group_by(tags) %>%
  count(word,sort=TRUE)

word_count.mp %>% 
  slice(1:6) %>%
  mutate(word = reorder(word,n)) %>%
  ggplot(aes(x = word, y = n, color = tags))+
  xlab(NULL) + ylab("Word Frequency of Parents under Topics")+ 
  geom_col(fill="snow")+
  scale_fill_brewer(palette = "Set3")+
  facet_wrap(.~tags, scales = "free")+
  theme(
   strip.background = element_rect(
     color="black", fill="lightgrey", size=0.4, linetype="solid"
     )
   )+
  coord_flip()
```

**Comment**:

Obviously, many happy moments of parents are related to their children. Parents and children live together and they have time to do a lot of things together. Children, to a some extent, are part of their parents' lives. Therefore, children can be seen as a factor that can make parents happy. 

####Topic Modelling: Behavior Study on Parenthood(N) Group
```{r no.parent.group}
# Group 2 Parenthood(N)
# Cleaning Data
corpus.no.parent <- VCorpus(VectorSource(no.par.data$text))%>%
  tm_map(content_transformer(tolower))%>%
  tm_map(removePunctuation)%>%
  tm_map(removeNumbers)%>%
  tm_map(removeWords, character(0))%>%
  tm_map(stripWhitespace)
```

```{r}
# Transforming text into numeric matrix:
# row = document
# column = words apperance
dtm.no.parent <- DocumentTermMatrix(corpus.no.parent)

rownames(dtm.no.parent) <- paste(no.par.data$reflection_period, no.par.data$wid,
                              no.par.data$predicted_category, no.par.data$hmid, sep="_")

# Remove lines with length <= 0:
rowTotals <- apply(dtm.no.parent , 1, sum)
dtm.no.parent  <- dtm.no.parent[rowTotals> 0, ]

# Update Input Data dimension
no.par.data <- no.par.data[rowTotals> 0, ]
```

```{r,echo=FALSE}
# Set parameters for Gibbs sampling
SEED = list(2333,5,63,100002,7777)  # Pick a random seed for replication
nstart <- 5
best <- TRUE
k = 10  # Number of Topics

# LDA model by Gibbs Method
model.no.parent <- LDA(dtm.no.parent, k = k, method = "Gibbs", control = list(seed = SEED,nstart=nstart,best=best,
                                                                  burnin = 4000,thin = 500,iter = 2000))
```

```{r no.par.results,echo=FALSE}
# Docs to Topics
no.parent.docs <- as.matrix(topics(model.no.parent))
no.parent.count<-table(c(1:k, no.parent.docs))

# Topics Terms
no.parent.terms <- as.matrix(terms(model.no.parent,20))
write.csv(no.parent.terms,file=paste("../output/LDAGibbs",k,"Topics.no.Parent.Terms.csv"))

# Topics Probability
no.parent.prob <- as.data.frame(model.no.parent@gamma)
```

**10 Topics in Parenthood(N) Group (20 top words & words counts)**
```{r no.parent.terms,echo=FALSE}
# Output 10 Topics
options(width = 100)
print(no.parent.terms)
print(no.parent.count)
```
```{r}
# Find the most salient:
no.parent.terms.beta <- model.no.parent@beta
no.parent.terms.beta <- scale(no.parent.terms.beta)
no.parent.topics.terms <- NULL
for(i in 1:k){
  no.parent.topics.terms <- rbind(no.parent.topics.terms, model.no.parent@terms[order(no.parent.terms.beta[i,], decreasing = TRUE)[1:10]])
}
```

**Most salient terms for each topic**:
```{r,echo=FALSE}
options(width = 100)
print(t(no.parent.topics.terms))
```

####Visualization: Parenthood(N) Word Frequency + Topics

By combining the results of `Topic Modelling` and the most salient terms, we manually summarize the following 10 topics:

- **Friends**: this topic contains key words around a person's daily life. It includes interactions and communications with firends.  

- **People**: this topic is morea about the world and people around an individual. 

- **Relationships**: this topic is mainly about relationships, especially romantic relationships.  

- **Foods**: this topic contains a variety of food and activities around foods.

- **Accomplish**: this topic includes one's accomplishment. 

- **Entertainment**: this topic contains daily entertainment activities, include shopping, gaming, playing basketball, etc.

- **Travel**: this topic contains outdoor activities and visiting natural sightseeings. 

- **Lifestyle**: this topic contains lifestyles which make people feel comfortable and relaxed. `Pet` is a key word here.

- **Celebrations**: this topic is around special events or celebrations.

- **Works**: this topic is on works/shcool. It includes words that are not only emphasizing on the achievement but also covering the content of jobs.

We are using `geom_col` to visualize the word frequency in each topics that we manually summarized. By visualizing this result, we can easily observe which group(s) of terms appear at most frequency as well as what `key words` appearing.

```{r}
# Manually assign tags to each topics
no.parent.term.tags <- c("Friends","People","Relationship","Foods","Accomplish","Entertainment","Travel","Lifestyle","Celebration","Works")

# Re-grouping Parenthood(Y) Dataframe with Topics and their Probabilities
no.par.data$topics <- as.vector(no.parent.docs)
no.par.data$tags <- no.parent.term.tags [no.parent.docs]

colnames(no.parent.prob)=no.parent.term.tags
no.par.df.1=cbind(no.par.data, no.parent.prob)
```

**Visualization: Hot Words Among each Topics**

```{r fig.no.par,fig.height=1.81,fig.width=4.5,warning=FALSE}
word_count.no.par <- no.par.df.1 %>%
  unnest_tokens(word,text) %>%
  group_by(tags) %>%
  count(word,sort=TRUE)

word_count.no.par %>% 
  slice(1:6) %>%
  mutate(word = reorder(word,n)) %>%
  ggplot(aes(x = word, y = n, color = tags))+
  xlab(NULL) + ylab("Word Frequency of Non-Parenthood under Topics")+ 
  geom_col(fill="snow")+
  scale_fill_brewer(palette = "Set3")+
  facet_wrap(.~tags, scales = "free")+
  theme(
   strip.background = element_rect(
     color="black", fill="lightgrey", size=0.4, linetype="solid"
     )
   )+
  coord_flip()
```

**Comment**:

People without children have more diverse lifestyles. Their daily activities may depend on their own personalities and lifestyles. Not raising children, people pay more attention to themselves. From `Word Frequency` and `Wordcloud`, we notice that people without children are more self-centered, and unlike parents who are family-oriented. 

#### Conclusion on Parenthood Study:

By performing `visualization` and `topic modeling` on parents and non-parents. We have the following observations:

- People with children are more likely to be together with family and children. From the `Wordcloud` and `Word Frequency under Topics` we can learn that activities that related to family and children take up a major part of happy moments of parents. Since `School` is also a topic there, we can guess that how children spend their days may have an impact on their parents' mood. In `Jobs` content, we also see word such as `son`, which would suggest that parents are likely to be happy because of their children's achievement.

- Even if both groups have key words that are related to food, they are demonstrating different patterns. People as parents are very likely married, and thus, meals and foods may be more related to family. In contrast, the `food` topic of non-parenthood group seems to be more food-related where more specific types of food names appear. 

- People with no children demonstrate a very different lifestyle. They are more self-centered, and they are not spending as much time as parent group with family. It is interesting that, 'dog' and 'cat' are hot words in this topic, which indicating that people without children are likely to have a pet as companion.

- Works may be a major part of life for people without kids. The topic `work` of non-parent group suggests that people with no kids are more likely to be happy because of their jobs. Instead of taking of family, non-parents may focus more on self-promotion and accomplishment. 

### Step 4: Conclusion on Happy_DB Data Analysis

The sentiment analysis indicated that there is not a certain type of people who are actually happier than the most of the rest. We observed that people with children were relatively happier than those without kids. 

Further, we studied the behavior of these two groups of people, `Parenthood(Yes)` and `Parenthood(No)`. We observed that parents spent many of their time with family, especially with their children. The happiness related to children not only appeared in family activities, but also in outdoor activities, entertainment and jobs-related topics. Children indeed played an important part of parents' lives, and it is then very understandable that many happy moments of parents were about their family and children. On the other hand, people with no kids focused more on enjoy themselves. They might have pets as life companions, and they fulfilled themselves with works. 

If we are supposed to give some explanation on why parenthood may result people happier. There are two reasons can be considered about:

1. Parents and children live together, and they are more likely to do things as a family. 

2. Happiness, to some extent, is not bouncing between different joyments. Many people consider happiness as a positive mental status. Children, for many believes, bring fulfillment to parents and they make parents' lives more meaningful. Parenthood itself may not guarantee happiness, but it provides people a great opportunity to explore happiness with their beloved children. 



### Step 5: Reference

- Hansen, Thomas. “Parenthood and Happiness: a Review of Folk Theories Versus Empirical Evidence.” Social Indicators Research, vol. 108, no. 1, 2011, pp. 29–64., doi:10.1007/s11205-011-9865-y.


